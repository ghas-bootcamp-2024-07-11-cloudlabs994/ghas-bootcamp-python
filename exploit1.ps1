# Exploit script to trigger GitHub alerts

# Hardcoded secret to trigger secret scanning alerts
$apiKey = "1234567890abcdef1234567890abcdef"
Write-Host "API Key: $apiKey"

# Using a vulnerable package to trigger Dependabot alerts
# This example assumes a package management file (e.g., `packages.config` for NuGet)

Add-Type -AssemblyName System.IO.Compression.FileSystem
function Install-VulnerablePackage {
    [CmdletBinding()]
    param (
        [string]$packageName = "VulnerablePackage",
        [string]$version = "1.0.0"
    )

    Write-Host "Installing vulnerable package $packageName version $version"
    # Simulate package installation (replace with actual installation code if needed)
}

Install-VulnerablePackage -packageName "log4j" -version "2.14.0"

# Insecure code to trigger code scanning alerts
function InsecureFunction {
    param (
        [string]$userInput
    )

    # Vulnerable to command injection
    Invoke-Expression $userInput
}

$userInput = "Write-Host 'This is insecure!'"
InsecureFunction -userInput $userInput
